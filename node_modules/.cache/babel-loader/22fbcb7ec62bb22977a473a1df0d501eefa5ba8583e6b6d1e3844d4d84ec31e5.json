{"ast":null,"code":"import _objectSpread from\"C:/Users/Hp/FitFlow/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const STORAGE_KEY=\"ppt_v2_state\";function loadState(){try{const raw=localStorage.getItem(STORAGE_KEY);return raw?JSON.parse(raw):null;}catch(e){console.warn(\"loadState error\",e);return null;}}function saveState(state){try{localStorage.setItem(STORAGE_KEY,JSON.stringify(state));}catch(e){console.warn(\"saveState error\",e);}}const uid=()=>Math.random().toString(36).slice(2,9);const dayNames=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];const todayISO=function(){let d=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date();return d.toISOString().slice(0,10);};function safeParseDateISO(s){if(!s)return null;const d=new Date(s+\"T00:00:00\");if(Number.isNaN(d.getTime()))return null;return d;}function getWeekNumber(startISO){let refISO=arguments.length>1&&arguments[1]!==undefined?arguments[1]:todayISO();const start=safeParseDateISO(startISO);const ref=safeParseDateISO(refISO);if(!start||!ref)return 1;const msPerDay=24*60*60*1000;const diffDays=Math.floor((ref.getTime()-start.getTime())/msPerDay);if(diffDays<0)return 0;const week=Math.floor(diffDays/7)+1;return Math.min(8,Math.max(1,week));}const MAIN_LIFTS=new Set([\"Two-Hand Kettlebell Swings\",\"Dumbbell Bench Press\",\"Goblet Squats\",\"Double Kettlebell Deadlifts\"]);const EXERCISE_LIBRARY={\"Two-Hand Kettlebell Swings\":{equipment:\"16kg or 20kg KB\",cues:\"Explode with your hips; hinge, don't squat.\",video:\"https://www.youtube.com/embed/2Z1QW1bZ8nE\"},\"Dumbbell Bench Press\":{equipment:\"12kg DBs\",cues:\"Control the negative. Squeeze chest at lockout.\",video:\"https://www.youtube.com/embed/rT7DgCr-3pg\"},\"Goblet Squats\":{equipment:\"20kg KB\",cues:\"Chest up, back straight. Drive your knees out.\",video:\"https://www.youtube.com/embed/6xwS9l3iUEM\"},\"Bent-Over Dumbbell Rows\":{equipment:\"12kg DBs\",cues:\"Hinge, flat back; pull toward hips.\",video:\"https://www.youtube.com/embed/vT2GjY_Umpw\"},\"Plank Series\":{equipment:\"Bodyweight\",cues:\"45s plank → 30s side plank (R) → 30s side plank (L).\",video:\"https://www.youtube.com/embed/pSHjTRCQxIw\"},\"Double Kettlebell Deadlifts\":{equipment:\"16kg KBs\",cues:\"Flat back. Drive through heels.\",video:\"https://www.youtube.com/embed/2A5tVpw3tRk\"},\"Single-Arm Overhead Press\":{equipment:\"12kg DB or 16kg KB\",cues:\"Brace core; press straight up.\",video:\"https://www.youtube.com/embed/qEwKCR5JCog\"},\"Kettlebell Clean\":{equipment:\"16kg KB\",cues:\"Keep bell close; tame the arc.\",video:\"https://www.youtube.com/embed/p5L2w2QxwY8\"},\"Kettlebell Clean and Press\":{equipment:\"16kg KB\",cues:\"Clean to rack, then press.\",video:\"https://www.youtube.com/embed/cFO2VYl9Dpo\"},\"Renegade Rows\":{equipment:\"10–12kg DBs\",cues:\"Strong plank; row without rotating hips.\",video:\"https://www.youtube.com/embed/2z8JmcrW-As\"},\"Leg Raises & Twists\":{equipment:\"Bodyweight / 10kg KB\",cues:\"15 leg raises then 20 Russian twists.\",video:\"https://www.youtube.com/embed/JB2oyawG9KI\"},\"Kettlebell Front Squats\":{equipment:\"10kg or 16kg KBs\",cues:\"Rack position; core engaged.\",video:\"https://www.youtube.com/embed/4QYyQF_5k3U\"},\"Push-ups\":{equipment:\"Bodyweight\",cues:\"Maintain a straight line head-to-heels.\",video:\"https://www.youtube.com/embed/IODxDxX7oi4\"},\"Alternating Lunges\":{equipment:\"12kg DBs\",cues:\"Step forward; drop back knee near floor.\",video:\"https://www.youtube.com/embed/QOVaHwm-Q6U\"},\"10-Minute AMRAP\":{equipment:\"10kg & 16kg KBs\",cues:\"8 Goblet Squats (16kg), 10 Swings (16kg), 12 Sit-ups.\",video:\"https://www.youtube.com/embed/3UWi44yN-wE\"},\"15-Minute AMRAP\":{equipment:\"10kg & 16kg KBs\",cues:\"Same circuit; go 15 minutes.\",video:\"https://www.youtube.com/embed/3UWi44yN-wE\"}};const PHASE1={A:[{type:\"power\",name:\"Two-Hand Kettlebell Swings\",sets:5,reps:15,rest:60},{type:\"strength\",name:\"Dumbbell Bench Press\",sets:4,reps:\"8-12\",rest:90},{type:\"strength\",name:\"Goblet Squats\",sets:4,reps:10,rest:90},{type:\"accessory\",name:\"Bent-Over Dumbbell Rows\",sets:3,reps:\"12-15\",rest:60},{type:\"core\",name:\"Plank Series\",sets:3,reps:\"45s + 30s + 30s\",rest:30}],B:[{type:\"strength\",name:\"Double Kettlebell Deadlifts\",sets:4,reps:8,rest:90},{type:\"strength\",name:\"Single-Arm Overhead Press\",sets:4,reps:\"8-10 each\",rest:75},{type:\"accessory\",name:\"Renegade Rows\",sets:3,reps:\"8-10 each\",rest:60},{type:\"endurance\",name:\"Kettlebell Clean\",sets:5,reps:\"5 each\",rest:60},{type:\"core\",name:\"Leg Raises & Twists\",sets:3,reps:\"15 + 20\",rest:45}],C:[{type:\"complex\",name:\"Kettlebell Front Squats\",sets:4,reps:10,rest:90},{type:\"complex\",name:\"Push-ups\",sets:4,reps:\"AMRAP\",rest:60},{type:\"complex\",name:\"Alternating Lunges\",sets:3,reps:\"10 each\",rest:60},{type:\"finisher\",name:\"10-Minute AMRAP\",sets:1,reps:\"As Many Rounds As Possible\",rest:0}]};function toPhase2(day){return day.map(ex=>{const copy=_objectSpread({},ex);if(typeof copy.rest===\"number\"&&copy.rest>0&&!MAIN_LIFTS.has(copy.name)){copy.rest=Math.max(0,copy.rest-15);}return copy;});}function phase2Workouts(){const A=toPhase2(PHASE1.A).map(ex=>_objectSpread({},ex));A.forEach(ex=>{if(ex.name===\"Dumbbell Bench Press\"||ex.name===\"Goblet Squats\")ex.sets=(ex.sets||0)+1;});const B=toPhase2(PHASE1.B).map(ex=>_objectSpread({},ex));const idx=B.findIndex(e=>e.name===\"Single-Arm Overhead Press\");if(idx!==-1)B.splice(idx,1,{type:\"strength\",name:\"Kettlebell Clean and Press\",sets:4,reps:\"8-10 each\",rest:75});const C=toPhase2(PHASE1.C).map(ex=>_objectSpread({},ex));const fIdx=C.findIndex(e=>typeof e.name==='string'&&e.name.includes(\"AMRAP\"));if(fIdx!==-1)C.splice(fIdx,1,{type:\"finisher\",name:\"15-Minute AMRAP\",sets:1,reps:\"As Many Rounds As Possible\",rest:0});return{A,B,C};}const defaultState={onboarded:false,user:{equipment:{Swings:\"16kg\",DB_Bench:\"12kg\",Goblet_Squat:\"20kg\",Double_KB_DL:\"16kg x2\",SA_OHP:\"12kg\",Clean:\"16kg\",Clean_Press:\"16kg\",Renegade_Row:\"10kg\",Lunges:\"12kg\",AMRAP:\"10 & 16kg\"},schedule:[\"Monday\",\"Wednesday\",\"Friday\"],startDate:todayISO()},sessions:[]};export default function App(){const[state,setState]=useState(()=>{var _loadState;return(_loadState=loadState())!==null&&_loadState!==void 0?_loadState:defaultState;});useEffect(()=>saveState(state),[state]);const currentWeek=useMemo(()=>getWeekNumber(state.user.startDate),[state.user.startDate,state.sessions]);const isPhase2=currentWeek>=5;const workouts=useMemo(()=>isPhase2?phase2Workouts():PHASE1,[isPhase2]);const scheduledToday=useMemo(()=>{const todayName=dayNames[new Date().getDay()];return Array.isArray(state.user.schedule)&&state.user.schedule.includes(todayName);},[state.user.schedule]);const completedCount=Array.isArray(state.sessions)?state.sessions.filter(s=>s.completed).length:0;const nextWorkoutLetter=['A','B','C'][completedCount%3];const todayWorkoutLetter=scheduledToday?nextWorkoutLetter:null;const[tab,setTab]=useState(\"today\");return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-neutral-950 text-neutral-100 antialiased\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto px-4 pb-24\",children:[/*#__PURE__*/_jsx(Header,{week:currentWeek,startDate:state.user.startDate}),!state.onboarded?/*#__PURE__*/_jsx(Onboarding,{state:state,setState:setState}):tab===\"today\"?/*#__PURE__*/_jsx(Today,{state:state,setState:setState,workouts:workouts,isPhase2:isPhase2,scheduledToday:scheduledToday,workoutLetter:todayWorkoutLetter,week:currentWeek}):tab===\"progress\"?/*#__PURE__*/_jsx(Progress,{state:state,setState:setState}):/*#__PURE__*/_jsx(ExerciseLibrary,{})]}),/*#__PURE__*/_jsx(BottomNav,{tab:tab,setTab:setTab})]});}function Header(_ref){let{week,startDate}=_ref;return/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-10 bg-neutral-950/80 backdrop-blur\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto px-4 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold tracking-tight\",children:\"Progressive Performance Tracker\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-neutral-400\",children:week===0?/*#__PURE__*/_jsxs(\"span\",{children:[\"Program starts on \",startDate]}):/*#__PURE__*/_jsxs(\"span\",{children:[\"Week \",week,week>=5&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 py-0.5 rounded-full bg-emerald-600/15 text-emerald-300\",children:\"Phase 2\"})]})})]})});}function BottomNav(_ref2){let{tab,setTab}=_ref2;const items=[{key:\"today\",label:\"Today\"},{key:\"progress\",label:\"Progress\"},{key:\"library\",label:\"Library\"}];return/*#__PURE__*/_jsx(\"nav\",{className:\"fixed bottom-0 inset-x-0 bg-neutral-900 border-t border-neutral-800\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto flex\",children:items.map(it=>/*#__PURE__*/_jsx(\"button\",{className:\"flex-1 py-3 text-sm \".concat(tab===it.key?'text-white':'text-neutral-400'),onClick:()=>setTab(it.key),children:it.label},it.key))})});}function Onboarding(_ref3){let{state,setState}=_ref3;const[schedule,setSchedule]=useState(Array.isArray(state.user.schedule)?state.user.schedule:[]);const[equipment,setEquipment]=useState(_objectSpread({},state.user.equipment||{}));const[startDate,setStartDate]=useState(state.user.startDate||todayISO());const toggleDay=d=>{setSchedule(prev=>prev.includes(d)?prev.filter(x=>x!==d):prev.length<3?[...prev,d]:prev);};const canFinish=schedule.length===3;return/*#__PURE__*/_jsxs(\"section\",{className:\"py-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"Quick Setup\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-400\",children:\"Choose your equipment, training days (pick exactly 3), and Week 1 start date.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-3\",children:dayNames.map(d=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleDay(d),className:\"px-3 py-2 rounded-lg border text-sm \".concat(schedule.includes(d)?'bg-emerald-700/20 border-emerald-700 text-emerald-300':'border-neutral-800 text-neutral-300'),children:d},d))}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:\"Equipment Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-3\",children:Object.entries(equipment).map(_ref4=>{let[k,v]=_ref4;return/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center justify-between gap-3 text-sm bg-neutral-900 rounded-xl p-3 border border-neutral-800\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-neutral-300\",children:k.replace(/_/g,' ')}),/*#__PURE__*/_jsx(\"input\",{className:\"bg-neutral-950 border border-neutral-800 rounded px-2 py-1 w-36 text-right\",value:v,onChange:e=>setEquipment(_objectSpread(_objectSpread({},equipment),{},{[k]:e.target.value}))})]},k);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-neutral-300\",children:\"Week 1 start date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate,onChange:e=>setStartDate(e.target.value),className:\"mt-1 w-full p-2 rounded-xl bg-neutral-900 border border-neutral-800\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[12px] text-neutral-500 mt-1\",children:\"Pick the date you want to be treated as Week 1 start (use past dates to backfill).\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:!canFinish,onClick:()=>setState(s=>_objectSpread(_objectSpread({},s),{},{onboarded:true,user:_objectSpread(_objectSpread({},s.user),{},{schedule,equipment,startDate})})),className:\"w-full py-3 rounded-xl text-sm font-medium \".concat(canFinish?'bg-white text-black':'bg-neutral-800 text-neutral-500'),children:\"Finish Setup\"})]});}function Today(_ref5){let{state,setState,workouts,isPhase2,scheduledToday,workoutLetter,week}=_ref5;const todayName=dayNames[new Date().getDay()];if(!scheduledToday||!workoutLetter){return/*#__PURE__*/_jsxs(\"section\",{className:\"py-8 space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Rest Day\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-neutral-400 text-sm\",children:[\"Today (\",todayName,\") is not one of your scheduled training days. Recovery is part of the plan. \\u270C\\uFE0F\"]})]});}const plan=workouts&&workouts[workoutLetter]||[];return/*#__PURE__*/_jsxs(\"section\",{className:\"py-6 space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Today's Workout\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-neutral-400\",children:[\"Workout \",workoutLetter,\" \\u2022 Week \",week]})]}),isPhase2&&/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300 text-xs px-2 py-1 rounded bg-emerald-700/20 border border-emerald-700\",children:\"Phase 2 Active\"})]}),/*#__PURE__*/_jsx(LiveWorkout,{state:state,setState:setState,workoutLetter:workoutLetter,exercises:plan,isPhase2:isPhase2})]});}function LiveWorkout(_ref6){let{state,setState,exercises,workoutLetter,isPhase2}=_ref6;const makeEntries=exs=>Array.isArray(exs)?exs.map(ex=>({exName:ex.name,sets:Array.from({length:ex.sets||0},()=>({reps:\"\",weight:\"\"}))})):[];const[active,setActive]=useState(false);const[entries,setEntries]=useState(()=>makeEntries(exercises));const[notes,setNotes]=useState(\"\");useEffect(()=>setEntries(makeEntries(exercises)),[exercises]);const start=()=>setActive(true);const complete=()=>{const date=todayISO();const week=getWeekNumber(state.user.startDate,date);const session={id:uid(),date,workout:workoutLetter,week,entries,notes,completed:true,phase2:isPhase2};const bench=entries.find(e=>e.exName===\"Dumbbell Bench Press\");let alertMsg=null;if(bench){const lastSet=bench.sets[bench.sets.length-1]||{};const lastReps=parseInt(lastSet.reps||\"0\",10);if(!Number.isNaN(lastReps)&&lastReps>=12)alertMsg=\"Progress Alert! You've mastered your current weight for 12 reps. Try increasing next session.\";}setState(s=>_objectSpread(_objectSpread({},s),{},{sessions:Array.isArray(s.sessions)?[...s.sessions,session]:[session]}));if(alertMsg)setTimeout(()=>alert(alertMsg),50);};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[!active?/*#__PURE__*/_jsx(\"button\",{onClick:start,className:\"w-full py-3 rounded-xl bg-white text-black text-sm font-medium\",children:\"Start Workout\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-400\",children:\"Live Mode: log each set below. Rest timer starts when you save a set.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:Array.isArray(exercises)&&exercises.map((ex,i)=>/*#__PURE__*/_jsx(ExerciseCard,{ex:ex,isPhase2:isPhase2,entry:entries[i],setEntry:newEntry=>setEntries(arr=>arr.map((e,idx)=>idx===i?newEntry:e))},ex.name+\"_\"+i))}),active&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 pt-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-neutral-300\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),className:\"mt-1 w-full h-20 p-3 rounded-xl bg-neutral-900 border border-neutral-800\",placeholder:\"How did it feel?\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:complete,className:\"w-full py-3 rounded-xl bg-emerald-600 text-white text-sm font-medium\",children:\"Mark Workout Complete\"})]})]});}function ExerciseCard(_ref7){var _EXERCISE_LIBRARY$ex$;let{ex,entry,setEntry,isPhase2}=_ref7;const[showInfo,setShowInfo]=useState(false);const rest=typeof ex.rest==='number'?ex.rest:0;const sets=Array.isArray(entry===null||entry===void 0?void 0:entry.sets)?entry.sets:Array.from({length:ex.sets||0},()=>({reps:\"\",weight:\"\"}));return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:ex.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-neutral-400\",children:[((_EXERCISE_LIBRARY$ex$=EXERCISE_LIBRARY[ex.name])===null||_EXERCISE_LIBRARY$ex$===void 0?void 0:_EXERCISE_LIBRARY$ex$.equipment)||\"—\",\" \\u2022 Sets: \",ex.sets,\" \\u2022 Reps: \",String(ex.reps)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-neutral-500 mt-1\",children:[\"Rest: \",rest,\"s \",isPhase2&&!MAIN_LIFTS.has(ex.name)&&/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-300\",children:\"(\\u221215s in Phase 2)\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs text-neutral-400 underline\",onClick:()=>setShowInfo(true),children:\"cues\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 space-y-2\",children:sets.map((s,idx)=>/*#__PURE__*/_jsx(SetRow,{idx:idx,ex:ex,setData:s,onChange:newSet=>{if(typeof setEntry==='function'){const updated=_objectSpread(_objectSpread({},entry),{},{sets:((entry===null||entry===void 0?void 0:entry.sets)||[]).map((t,i)=>i===idx?newSet:t)});setEntry(updated);}}},idx))}),showInfo&&/*#__PURE__*/_jsx(ExerciseModal,{name:ex.name,onClose:()=>setShowInfo(false),isPhase2:isPhase2})]});}function SetRow(_ref8){var _setData$reps,_setData$weight;let{idx,ex,setData,onChange}=_ref8;const[reps,setReps]=useState((_setData$reps=setData===null||setData===void 0?void 0:setData.reps)!==null&&_setData$reps!==void 0?_setData$reps:\"\");const[weight,setWeight]=useState((_setData$weight=setData===null||setData===void 0?void 0:setData.weight)!==null&&_setData$weight!==void 0?_setData$weight:\"\");const[timerKey,setTimerKey]=useState(0);useEffect(()=>{var _setData$reps2,_setData$weight2;setReps((_setData$reps2=setData===null||setData===void 0?void 0:setData.reps)!==null&&_setData$reps2!==void 0?_setData$reps2:\"\");setWeight((_setData$weight2=setData===null||setData===void 0?void 0:setData.weight)!==null&&_setData$weight2!==void 0?_setData$weight2:\"\");},[setData===null||setData===void 0?void 0:setData.reps,setData===null||setData===void 0?void 0:setData.weight]);const save=()=>{var _ex$rest;if(typeof onChange==='function')onChange({reps,weight});if(((_ex$rest=ex.rest)!==null&&_ex$rest!==void 0?_ex$rest:0)>0)setTimerKey(k=>k+1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-neutral-950/50 border border-neutral-800 p-3 flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-neutral-400 w-10\",children:[\"Set \",idx+1]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",inputMode:\"numeric\",value:reps,onChange:e=>setReps(e.target.value),placeholder:typeof ex.reps==='number'?String(ex.reps):String(ex.reps),className:\"flex-1 text-sm bg-neutral-950 border border-neutral-800 rounded px-2 py-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:weight,onChange:e=>setWeight(e.target.value),placeholder:\"weight used\",className:\"w-32 text-sm bg-neutral-950 border border-neutral-800 rounded px-2 py-2 text-right\"}),/*#__PURE__*/_jsx(\"button\",{onClick:save,className:\"px-3 py-2 rounded-lg bg-white text-black text-xs font-medium\",children:\"Save\"}),ex.rest>0&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto w-28\",children:/*#__PURE__*/_jsx(RestTimer,{seconds:ex.rest},timerKey)})]});}function RestTimer(_ref9){let{seconds}=_ref9;const[s,setS]=useState(Math.max(0,Math.floor(Number(seconds)||0)));const intervalRef=useRef(null);useEffect(()=>{setS(Math.max(0,Math.floor(Number(seconds)||0)));if(intervalRef.current)clearInterval(intervalRef.current);intervalRef.current=setInterval(()=>setS(x=>Math.max(0,x-1)),1000);return()=>clearInterval(intervalRef.current);},[seconds]);useEffect(()=>{if(s===0){if(intervalRef.current)clearInterval(intervalRef.current);try{new Audio(\"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBIAAABAAEAQBQAAAwAABAAgAZGF0YQAAAAA=\").play();}catch(e){}if(typeof window!=='undefined'&&window.navigator&&window.navigator.vibrate)window.navigator.vibrate(120);}},[s]);const mm=String(Math.floor(s/60)).padStart(2,'0');const ss=String(s%60).padStart(2,'0');return/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs px-2 py-1 rounded-lg border text-center \".concat(s===0?'border-emerald-700 text-emerald-300':'border-neutral-700 text-neutral-300'),children:[mm,\":\",ss]});}function ExerciseModal(_ref0){let{name,onClose,isPhase2}=_ref0;const ex=EXERCISE_LIBRARY[name];if(!ex)return null;const cueExtra=isPhase2&&name===\"Plank Series\"?\" • Phase 2: try lifting one foot off the ground.\":\"\";return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-20 bg-black/70 flex items-end sm:items-center justify-center p-3\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full sm:max-w-lg bg-neutral-950 border border-neutral-800 rounded-2xl p-4 space-y-3\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:name}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-neutral-400 text-sm\",children:\"Close\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-neutral-400\",children:[\"Equipment: \",ex.equipment]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-neutral-300\",children:[ex.cues,cueExtra]}),ex.video&&/*#__PURE__*/_jsx(\"div\",{className:\"aspect-video rounded-xl overflow-hidden border border-neutral-800\",children:/*#__PURE__*/_jsx(\"iframe\",{className:\"w-full h-full\",src:ex.video,title:name,allow:\"autoplay; encrypted-media\",allowFullScreen:true})})]})});}function ExerciseLibrary(){const items=Object.entries(EXERCISE_LIBRARY);return/*#__PURE__*/_jsxs(\"section\",{className:\"py-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-3\",children:\"Exercise Library\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-3\",children:items.map(_ref1=>{let[name,ex]=_ref1;return/*#__PURE__*/_jsx(ExercisePreview,{name:name,ex:ex},name);})})]});}function ExercisePreview(_ref10){let{name,ex}=_ref10;const[open,setOpen]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-neutral-400\",children:ex.equipment})]}),/*#__PURE__*/_jsx(\"button\",{className:\"text-xs text-neutral-300 underline\",onClick:()=>setOpen(true),children:\"Open\"})]}),open&&/*#__PURE__*/_jsx(ExerciseModal,{name:name,onClose:()=>setOpen(false),isPhase2:false})]});}function Progress(_ref11){let{state,setState}=_ref11;const[modalDate,setModalDate]=useState(null);const sessionsMap=useMemo(()=>{const map=new Map();(Array.isArray(state.sessions)?state.sessions:[]).forEach(s=>map.set(s.date,s));return map;},[state.sessions]);const completed=(Array.isArray(state.sessions)?state.sessions:[]).filter(s=>s.completed);const volume={};for(const s of completed){for(const e of s.entries||[]){let total=0;for(const st of e.sets||[]){const reps=parseInt(st.reps,10);const w=parseFloat(String(st.weight).replace(/[^0-9.]/g,''));if(!Number.isNaN(reps)&&!Number.isNaN(w))total+=reps*w;}volume[e.exName]=(volume[e.exName]||0)+total;}}const keyLifts=[\"Dumbbell Bench Press\",\"Goblet Squats\"];const maxVolume=Math.max(...keyLifts.map(n=>volume[n]||0),1);const prHighlights=computePRs(completed);const amrapHistory=computeAMRAP(completed);return/*#__PURE__*/_jsxs(\"section\",{className:\"py-6 space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Progress\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Calendar,{startDate:state.user.startDate,sessions:sessionsMap,onEditDay:iso=>setModalDate(iso)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:\"Volume Load\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-3\",children:keyLifts.map(name=>/*#__PURE__*/_jsx(MiniBar,{label:name,value:Math.round(volume[name]||0),max:maxVolume},name))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:\"AMRAP Finisher (Workout C)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:amrapHistory.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-400\",children:\"No AMRAP results yet.\"}):amrapHistory.map(r=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm bg-neutral-900 border border-neutral-800 rounded-xl p-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-neutral-300\",children:[r.date,\" \\u2022 \",r.label]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[r.rounds,\" rds \",r.reps,\" reps\"]})]},r.date))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium\",children:\"Personal Records\"}),prHighlights.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-400\",children:\"Log more sessions to unlock PRs.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm space-y-1\",children:prHighlights.map(p=>/*#__PURE__*/_jsxs(\"li\",{className:\"bg-neutral-900 border border-neutral-800 rounded-xl p-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:p.exercise}),\": \",p.reps,\" reps @ \",p.weight]},p.id))})]}),modalDate&&/*#__PURE__*/_jsx(HistoricalSessionModal,{isoDate:modalDate,existing:sessionsMap.get(modalDate),startDate:state.user.startDate,onClose:()=>setModalDate(null),onSave:session=>{setState(s=>{const others=(s.sessions||[]).filter(x=>x.date!==session.date);return _objectSpread(_objectSpread({},s),{},{sessions:[...others,session]});});setModalDate(null);}})]});}function Calendar(_ref12){let{startDate,sessions,onEditDay}=_ref12;const end=new Date();const start=new Date(end);start.setDate(end.getDate()-55);const days=[];for(let d=new Date(start);d<=end;d.setDate(d.getDate()+1)){const iso=d.toISOString().slice(0,10);const s=sessions.get(iso);days.push({iso,done:!!s,letter:s===null||s===void 0?void 0:s.workout});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium mb-2\",children:\"Workout Calendar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-8 gap-1\",children:days.map(d=>/*#__PURE__*/_jsx(\"button\",{title:\"\".concat(d.iso).concat(d.done?\" \\u2022 Workout \".concat(d.letter):''),onClick:()=>typeof onEditDay==='function'&&onEditDay(d.iso),className:\"aspect-square rounded \".concat(d.done?'bg-emerald-600':'bg-neutral-800')},d.iso))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[11px] text-neutral-500 mt-1\",children:\"Past 8 weeks \\u2014 tap a day to add or edit a session\"})]});}function HistoricalSessionModal(_ref13){let{isoDate,existing,startDate,onClose,onSave}=_ref13;const initialLetter=(existing===null||existing===void 0?void 0:existing.workout)||'A';const[letter,setLetter]=useState(initialLetter);const[completed,setCompleted]=useState(typeof(existing===null||existing===void 0?void 0:existing.completed)==='boolean'?existing.completed:true);const phase2AtDate=getWeekNumber(startDate,isoDate)>=5;const plan=phase2AtDate?phase2Workouts():PHASE1;const makeDefaultEntries=ltr=>(plan[ltr]||[]).map(ex=>({exName:ex.name,sets:Array.from({length:ex.sets||0},()=>({reps:\"\",weight:\"\"}))}));const[entries,setEntries]=useState((existing===null||existing===void 0?void 0:existing.entries)||makeDefaultEntries(letter));const[notes,setNotes]=useState((existing===null||existing===void 0?void 0:existing.notes)||\"\");useEffect(()=>{if(!existing)setEntries(makeDefaultEntries(letter));},[letter]);const save=()=>{const week=getWeekNumber(startDate,isoDate);const session={id:(existing===null||existing===void 0?void 0:existing.id)||uid(),date:isoDate,workout:letter,week,entries,notes,completed,phase2:phase2AtDate};if(typeof onSave==='function')onSave(session);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-30 bg-black/70 flex items-end sm:items-center justify-center p-3\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full sm:max-w-2xl bg-neutral-950 border border-neutral-800 rounded-2xl p-4 space-y-3\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold\",children:[isoDate,\" \\u2022 Add / Edit Session\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-neutral-400 text-sm\",children:\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-neutral-300\",children:\"Workout\"}),/*#__PURE__*/_jsxs(\"select\",{value:letter,onChange:e=>setLetter(e.target.value),className:\"mt-1 w-full p-2 rounded bg-neutral-900 border border-neutral-800\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"A\",children:\"A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B\",children:\"B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"C\",children:\"C\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"w-36\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-neutral-300\",children:\"Completed\"}),/*#__PURE__*/_jsxs(\"select\",{value:String(completed),onChange:e=>setCompleted(e.target.value==='true'),className:\"mt-1 w-full p-2 rounded bg-neutral-900 border border-neutral-800\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"No\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium\",children:\"Entries\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-64 overflow-auto\",children:entries.map((en,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-neutral-900 border border-neutral-800 rounded-xl p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:en.exName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-neutral-400\",children:[\"Sets: \",en.sets.length]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 space-y-2\",children:en.sets.map((s,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:s.reps,onChange:e=>{const next=entries.map((x,ii)=>ii===i?_objectSpread(_objectSpread({},x),{},{sets:x.sets.map((ss,jj)=>jj===idx?_objectSpread(_objectSpread({},ss),{},{reps:e.target.value}):ss)}):x);setEntries(next);},placeholder:\"reps\",className:\"flex-1 p-2 rounded bg-neutral-950 border border-neutral-800\"}),/*#__PURE__*/_jsx(\"input\",{value:s.weight,onChange:e=>{const next=entries.map((x,ii)=>ii===i?_objectSpread(_objectSpread({},x),{},{sets:x.sets.map((ss,jj)=>jj===idx?_objectSpread(_objectSpread({},ss),{},{weight:e.target.value}):ss)}):x);setEntries(next);},placeholder:\"weight\",className:\"w-28 p-2 rounded bg-neutral-950 border border-neutral-800 text-right\"})]},idx))})]},en.exName+\"_\"+i))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-neutral-300\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:notes,onChange:e=>setNotes(e.target.value),className:\"mt-1 w-full p-2 h-20 rounded bg-neutral-900 border border-neutral-800\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:save,className:\"flex-1 py-2 rounded-xl bg-emerald-600 text-white\",children:\"Save Session\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"flex-1 py-2 rounded-xl bg-neutral-800 text-neutral-300\",children:\"Cancel\"})]})]})});}function MiniBar(_ref14){let{label,value,max=1}=_ref14;const pct=max>0?Math.round(value/max*100):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-neutral-900 border border-neutral-800 rounded-xl p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-neutral-300\",children:label}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[value,\" kg\\xB7reps\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-neutral-800 rounded\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded bg-white\",style:{width:\"\".concat(pct,\"%\")}})})]});}function computePRs(sessions){const best=new Map();for(const s of sessions||[]){for(const e of s.entries||[]){for(const st of e.sets||[]){const reps=parseInt(st.reps,10);const numericWeight=parseFloat(String(st.weight).replace(/[^0-9.]/g,''));if(!Number.isNaN(reps)&&!Number.isNaN(numericWeight)){const k=e.exName;const prev=best.get(k);const score=numericWeight*reps;const prevScore=prev?prev.numericWeight*prev.reps:-1;if(score>prevScore)best.set(k,{reps,weight:st.weight,numericWeight});}}}}return Array.from(best.entries()).map(_ref15=>{let[exercise,v]=_ref15;return{id:exercise,exercise,reps:v.reps,weight:v.weight};});}function computeAMRAP(sessions){const result=[];for(const s of sessions||[]){const fin=(s.entries||[]).find(e=>typeof e.exName==='string'&&e.exName.includes(\"AMRAP\"));if(fin){const set0=fin.sets&&fin.sets[0]?fin.sets[0]:{};const rounds=parseInt(set0.reps,10);const reps=parseInt(set0.weight,10)||0;if(!Number.isNaN(rounds))result.push({date:s.date,rounds,reps,label:fin.exName});}}result.sort((a,b)=>a.date<b.date?1:-1);return result;}","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsx","_jsx","jsxs","_jsxs","STORAGE_KEY","loadState","raw","localStorage","getItem","JSON","parse","e","console","warn","saveState","state","setItem","stringify","uid","Math","random","toString","slice","dayNames","todayISO","d","arguments","length","undefined","Date","toISOString","safeParseDateISO","s","Number","isNaN","getTime","getWeekNumber","startISO","refISO","start","ref","msPerDay","diffDays","floor","week","min","max","MAIN_LIFTS","Set","EXERCISE_LIBRARY","equipment","cues","video","PHASE1","A","type","name","sets","reps","rest","B","C","toPhase2","day","map","ex","copy","_objectSpread","has","phase2Workouts","forEach","idx","findIndex","splice","fIdx","includes","defaultState","onboarded","user","Swings","DB_Bench","Goblet_Squat","Double_KB_DL","SA_OHP","Clean","Clean_Press","Renegade_Row","Lunges","AMRAP","schedule","startDate","sessions","App","setState","_loadState","currentWeek","isPhase2","workouts","scheduledToday","todayName","getDay","Array","isArray","completedCount","filter","completed","nextWorkoutLetter","todayWorkoutLetter","tab","setTab","className","children","Header","Onboarding","Today","workoutLetter","Progress","ExerciseLibrary","BottomNav","_ref","_ref2","items","key","label","it","concat","onClick","_ref3","setSchedule","setEquipment","setStartDate","toggleDay","prev","x","canFinish","Object","entries","_ref4","k","v","replace","value","onChange","target","disabled","_ref5","plan","LiveWorkout","exercises","_ref6","makeEntries","exs","exName","from","weight","active","setActive","setEntries","notes","setNotes","complete","date","session","id","workout","phase2","bench","find","alertMsg","lastSet","lastReps","parseInt","setTimeout","alert","i","ExerciseCard","entry","setEntry","newEntry","arr","placeholder","_ref7","_EXERCISE_LIBRARY$ex$","showInfo","setShowInfo","String","SetRow","setData","newSet","updated","t","ExerciseModal","onClose","_ref8","_setData$reps","_setData$weight","setReps","setWeight","timerKey","setTimerKey","_setData$reps2","_setData$weight2","save","_ex$rest","inputMode","RestTimer","seconds","_ref9","setS","intervalRef","current","clearInterval","setInterval","Audio","play","window","navigator","vibrate","mm","padStart","ss","_ref0","cueExtra","stopPropagation","src","title","allow","allowFullScreen","_ref1","ExercisePreview","_ref10","open","setOpen","_ref11","modalDate","setModalDate","sessionsMap","Map","set","volume","total","st","w","parseFloat","keyLifts","maxVolume","n","prHighlights","computePRs","amrapHistory","computeAMRAP","Calendar","onEditDay","iso","MiniBar","round","r","rounds","p","exercise","HistoricalSessionModal","isoDate","existing","get","onSave","others","_ref12","end","setDate","getDate","days","push","done","letter","_ref13","initialLetter","setLetter","setCompleted","phase2AtDate","makeDefaultEntries","ltr","en","next","ii","jj","_ref14","pct","style","width","best","numericWeight","score","prevScore","_ref15","result","fin","set0","sort","a","b"],"sources":["C:/Users/Hp/FitFlow/src/App.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from \"react\";\n\nconst STORAGE_KEY = \"ppt_v2_state\";\n\nfunction loadState() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    return raw ? JSON.parse(raw) : null;\n  } catch (e) {\n    console.warn(\"loadState error\", e);\n    return null;\n  }\n}\nfunction saveState(state) {\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));\n  } catch (e) {\n    console.warn(\"saveState error\", e);\n  }\n}\n\nconst uid = () => Math.random().toString(36).slice(2, 9);\nconst dayNames = [\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];\nconst todayISO = (d = new Date()) => d.toISOString().slice(0,10);\n\nfunction safeParseDateISO(s) {\n  if (!s) return null;\n  const d = new Date(s + \"T00:00:00\");\n  if (Number.isNaN(d.getTime())) return null;\n  return d;\n}\n\nfunction getWeekNumber(startISO, refISO = todayISO()) {\n  const start = safeParseDateISO(startISO);\n  const ref = safeParseDateISO(refISO);\n  if (!start || !ref) return 1;\n  const msPerDay = 24 * 60 * 60 * 1000;\n  const diffDays = Math.floor((ref.getTime() - start.getTime()) / msPerDay);\n  if (diffDays < 0) return 0;\n  const week = Math.floor(diffDays / 7) + 1;\n  return Math.min(8, Math.max(1, week));\n}\n\nconst MAIN_LIFTS = new Set([\n  \"Two-Hand Kettlebell Swings\",\n  \"Dumbbell Bench Press\",\n  \"Goblet Squats\",\n  \"Double Kettlebell Deadlifts\",\n]);\n\nconst EXERCISE_LIBRARY = {\n  \"Two-Hand Kettlebell Swings\": { equipment: \"16kg or 20kg KB\", cues: \"Explode with your hips; hinge, don't squat.\", video: \"https://www.youtube.com/embed/2Z1QW1bZ8nE\" },\n  \"Dumbbell Bench Press\": { equipment: \"12kg DBs\", cues: \"Control the negative. Squeeze chest at lockout.\", video: \"https://www.youtube.com/embed/rT7DgCr-3pg\" },\n  \"Goblet Squats\": { equipment: \"20kg KB\", cues: \"Chest up, back straight. Drive your knees out.\", video: \"https://www.youtube.com/embed/6xwS9l3iUEM\" },\n  \"Bent-Over Dumbbell Rows\": { equipment: \"12kg DBs\", cues: \"Hinge, flat back; pull toward hips.\", video: \"https://www.youtube.com/embed/vT2GjY_Umpw\" },\n  \"Plank Series\": { equipment: \"Bodyweight\", cues: \"45s plank → 30s side plank (R) → 30s side plank (L).\", video: \"https://www.youtube.com/embed/pSHjTRCQxIw\" },\n  \"Double Kettlebell Deadlifts\": { equipment: \"16kg KBs\", cues: \"Flat back. Drive through heels.\", video: \"https://www.youtube.com/embed/2A5tVpw3tRk\" },\n  \"Single-Arm Overhead Press\": { equipment: \"12kg DB or 16kg KB\", cues: \"Brace core; press straight up.\", video: \"https://www.youtube.com/embed/qEwKCR5JCog\" },\n  \"Kettlebell Clean\": { equipment: \"16kg KB\", cues: \"Keep bell close; tame the arc.\", video: \"https://www.youtube.com/embed/p5L2w2QxwY8\" },\n  \"Kettlebell Clean and Press\": { equipment: \"16kg KB\", cues: \"Clean to rack, then press.\", video: \"https://www.youtube.com/embed/cFO2VYl9Dpo\" },\n  \"Renegade Rows\": { equipment: \"10–12kg DBs\", cues: \"Strong plank; row without rotating hips.\", video: \"https://www.youtube.com/embed/2z8JmcrW-As\" },\n  \"Leg Raises & Twists\": { equipment: \"Bodyweight / 10kg KB\", cues: \"15 leg raises then 20 Russian twists.\", video: \"https://www.youtube.com/embed/JB2oyawG9KI\" },\n  \"Kettlebell Front Squats\": { equipment: \"10kg or 16kg KBs\", cues: \"Rack position; core engaged.\", video: \"https://www.youtube.com/embed/4QYyQF_5k3U\" },\n  \"Push-ups\": { equipment: \"Bodyweight\", cues: \"Maintain a straight line head-to-heels.\", video: \"https://www.youtube.com/embed/IODxDxX7oi4\" },\n  \"Alternating Lunges\": { equipment: \"12kg DBs\", cues: \"Step forward; drop back knee near floor.\", video: \"https://www.youtube.com/embed/QOVaHwm-Q6U\" },\n  \"10-Minute AMRAP\": { equipment: \"10kg & 16kg KBs\", cues: \"8 Goblet Squats (16kg), 10 Swings (16kg), 12 Sit-ups.\", video: \"https://www.youtube.com/embed/3UWi44yN-wE\" },\n  \"15-Minute AMRAP\": { equipment: \"10kg & 16kg KBs\", cues: \"Same circuit; go 15 minutes.\", video: \"https://www.youtube.com/embed/3UWi44yN-wE\" },\n};\n\nconst PHASE1 = {\n  A: [\n    { type: \"power\", name: \"Two-Hand Kettlebell Swings\", sets: 5, reps: 15, rest: 60 },\n    { type: \"strength\", name: \"Dumbbell Bench Press\", sets: 4, reps: \"8-12\", rest: 90 },\n    { type: \"strength\", name: \"Goblet Squats\", sets: 4, reps: 10, rest: 90 },\n    { type: \"accessory\", name: \"Bent-Over Dumbbell Rows\", sets: 3, reps: \"12-15\", rest: 60 },\n    { type: \"core\", name: \"Plank Series\", sets: 3, reps: \"45s + 30s + 30s\", rest: 30 },\n  ],\n  B: [\n    { type: \"strength\", name: \"Double Kettlebell Deadlifts\", sets: 4, reps: 8, rest: 90 },\n    { type: \"strength\", name: \"Single-Arm Overhead Press\", sets: 4, reps: \"8-10 each\", rest: 75 },\n    { type: \"accessory\", name: \"Renegade Rows\", sets: 3, reps: \"8-10 each\", rest: 60 },\n    { type: \"endurance\", name: \"Kettlebell Clean\", sets: 5, reps: \"5 each\", rest: 60 },\n    { type: \"core\", name: \"Leg Raises & Twists\", sets: 3, reps: \"15 + 20\", rest: 45 },\n  ],\n  C: [\n    { type: \"complex\", name: \"Kettlebell Front Squats\", sets: 4, reps: 10, rest: 90 },\n    { type: \"complex\", name: \"Push-ups\", sets: 4, reps: \"AMRAP\", rest: 60 },\n    { type: \"complex\", name: \"Alternating Lunges\", sets: 3, reps: \"10 each\", rest: 60 },\n    { type: \"finisher\", name: \"10-Minute AMRAP\", sets: 1, reps: \"As Many Rounds As Possible\", rest: 0 },\n  ],\n};\n\nfunction toPhase2(day) {\n  return day.map((ex) => {\n    const copy = { ...ex };\n    if (typeof copy.rest === \"number\" && copy.rest > 0 && !MAIN_LIFTS.has(copy.name)) {\n      copy.rest = Math.max(0, copy.rest - 15);\n    }\n    return copy;\n  });\n}\n\nfunction phase2Workouts() {\n  const A = toPhase2(PHASE1.A).map((ex) => ({ ...ex }));\n  A.forEach((ex) => {\n    if (ex.name === \"Dumbbell Bench Press\" || ex.name === \"Goblet Squats\") ex.sets = (ex.sets || 0) + 1;\n  });\n\n  const B = toPhase2(PHASE1.B).map((ex) => ({ ...ex }));\n  const idx = B.findIndex((e) => e.name === \"Single-Arm Overhead Press\");\n  if (idx !== -1) B.splice(idx, 1, { type: \"strength\", name: \"Kettlebell Clean and Press\", sets: 4, reps: \"8-10 each\", rest: 75 });\n\n  const C = toPhase2(PHASE1.C).map((ex) => ({ ...ex }));\n  const fIdx = C.findIndex((e) => (typeof e.name === 'string' && e.name.includes(\"AMRAP\")));\n  if (fIdx !== -1) C.splice(fIdx, 1, { type: \"finisher\", name: \"15-Minute AMRAP\", sets: 1, reps: \"As Many Rounds As Possible\", rest: 0 });\n\n  return { A, B, C };\n}\n\nconst defaultState = {\n  onboarded: false,\n  user: {\n    equipment: {\n      Swings: \"16kg\",\n      DB_Bench: \"12kg\",\n      Goblet_Squat: \"20kg\",\n      Double_KB_DL: \"16kg x2\",\n      SA_OHP: \"12kg\",\n      Clean: \"16kg\",\n      Clean_Press: \"16kg\",\n      Renegade_Row: \"10kg\",\n      Lunges: \"12kg\",\n      AMRAP: \"10 & 16kg\",\n    },\n    schedule: [\"Monday\",\"Wednesday\",\"Friday\"],\n    startDate: todayISO(),\n  },\n  sessions: [],\n};\n\nexport default function App() {\n  const [state, setState] = useState(() => loadState() ?? defaultState);\n  useEffect(() => saveState(state), [state]);\n\n  const currentWeek = useMemo(() => getWeekNumber(state.user.startDate), [state.user.startDate, state.sessions]);\n  const isPhase2 = currentWeek >= 5;\n  const workouts = useMemo(() => (isPhase2 ? phase2Workouts() : PHASE1), [isPhase2]);\n\n  const scheduledToday = useMemo(() => {\n    const todayName = dayNames[new Date().getDay()];\n    return Array.isArray(state.user.schedule) && state.user.schedule.includes(todayName);\n  }, [state.user.schedule]);\n\n  const completedCount = Array.isArray(state.sessions) ? state.sessions.filter((s) => s.completed).length : 0;\n  const nextWorkoutLetter = (['A','B','C'])[completedCount % 3];\n  const todayWorkoutLetter = scheduledToday ? nextWorkoutLetter : null;\n\n  const [tab, setTab] = useState(\"today\");\n\n  return (\n    <div className=\"min-h-screen bg-neutral-950 text-neutral-100 antialiased\">\n      <div className=\"max-w-3xl mx-auto px-4 pb-24\">\n        <Header week={currentWeek} startDate={state.user.startDate} />\n        {!state.onboarded ? (\n          <Onboarding state={state} setState={setState} />\n        ) : tab === \"today\" ? (\n          <Today\n            state={state}\n            setState={setState}\n            workouts={workouts}\n            isPhase2={isPhase2}\n            scheduledToday={scheduledToday}\n            workoutLetter={todayWorkoutLetter}\n            week={currentWeek}\n          />\n        ) : tab === \"progress\" ? (\n          <Progress state={state} setState={setState} />\n        ) : (\n          <ExerciseLibrary />\n        )}\n      </div>\n      <BottomNav tab={tab} setTab={setTab} />\n    </div>\n  );\n}\n\nfunction Header({ week, startDate }) {\n  return (\n    <header className=\"sticky top-0 z-10 bg-neutral-950/80 backdrop-blur\">\n      <div className=\"max-w-3xl mx-auto px-4 py-4 flex items-center justify-between\">\n        <h1 className=\"text-xl font-semibold tracking-tight\">Progressive Performance Tracker</h1>\n        <div className=\"text-sm text-neutral-400\">\n          {week === 0 ? (\n            <span>Program starts on {startDate}</span>\n          ) : (\n            <span>Week {week}{week >= 5 && <span className=\"ml-2 px-2 py-0.5 rounded-full bg-emerald-600/15 text-emerald-300\">Phase 2</span>}</span>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n\nfunction BottomNav({ tab, setTab }) {\n  const items = [\n    { key: \"today\", label: \"Today\" },\n    { key: \"progress\", label: \"Progress\" },\n    { key: \"library\", label: \"Library\" },\n  ];\n  return (\n    <nav className=\"fixed bottom-0 inset-x-0 bg-neutral-900 border-t border-neutral-800\">\n      <div className=\"max-w-3xl mx-auto flex\">\n        {items.map((it) => (\n          <button key={it.key} className={`flex-1 py-3 text-sm ${tab === it.key ? 'text-white' : 'text-neutral-400'}`} onClick={() => setTab(it.key)}>\n            {it.label}\n          </button>\n        ))}\n      </div>\n    </nav>\n  );\n}\n\nfunction Onboarding({ state, setState }) {\n  const [schedule, setSchedule] = useState(Array.isArray(state.user.schedule) ? state.user.schedule : []);\n  const [equipment, setEquipment] = useState({ ...(state.user.equipment || {}) });\n  const [startDate, setStartDate] = useState(state.user.startDate || todayISO());\n\n  const toggleDay = (d) => {\n    setSchedule((prev) => (prev.includes(d) ? prev.filter((x) => x !== d) : prev.length < 3 ? [...prev, d] : prev));\n  };\n\n  const canFinish = schedule.length === 3;\n\n  return (\n    <section className=\"py-6 space-y-6\">\n      <div className=\"space-y-2\">\n        <h2 className=\"text-lg font-semibold\">Quick Setup</h2>\n        <p className=\"text-sm text-neutral-400\">Choose your equipment, training days (pick exactly 3), and Week 1 start date.</p>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-3\">\n        {dayNames.map((d) => (\n          <button key={d} onClick={() => toggleDay(d)} className={`px-3 py-2 rounded-lg border text-sm ${schedule.includes(d) ? 'bg-emerald-700/20 border-emerald-700 text-emerald-300' : 'border-neutral-800 text-neutral-300'}`}>\n            {d}\n          </button>\n        ))}\n      </div>\n\n      <div className=\"space-y-2\">\n        <h3 className=\"font-medium\">Equipment Profile</h3>\n        <div className=\"grid grid-cols-1 gap-3\">\n          {Object.entries(equipment).map(([k, v]) => (\n            <label key={k} className=\"flex items-center justify-between gap-3 text-sm bg-neutral-900 rounded-xl p-3 border border-neutral-800\">\n              <span className=\"text-neutral-300\">{k.replace(/_/g, ' ')}</span>\n              <input className=\"bg-neutral-950 border border-neutral-800 rounded px-2 py-1 w-36 text-right\" value={v} onChange={(e) => setEquipment({ ...equipment, [k]: e.target.value })} />\n            </label>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <label className=\"text-sm text-neutral-300\">Week 1 start date</label>\n        <input type=\"date\" value={startDate} onChange={(e) => setStartDate(e.target.value)} className=\"mt-1 w-full p-2 rounded-xl bg-neutral-900 border border-neutral-800\" />\n        <p className=\"text-[12px] text-neutral-500 mt-1\">Pick the date you want to be treated as Week 1 start (use past dates to backfill).</p>\n      </div>\n\n      <button disabled={!canFinish} onClick={() => setState((s) => ({ ...s, onboarded: true, user: { ...s.user, schedule, equipment, startDate } }))} className={`w-full py-3 rounded-xl text-sm font-medium ${canFinish ? 'bg-white text-black' : 'bg-neutral-800 text-neutral-500'}`}>\n        Finish Setup\n      </button>\n    </section>\n  );\n}\n\nfunction Today({ state, setState, workouts, isPhase2, scheduledToday, workoutLetter, week }) {\n  const todayName = dayNames[new Date().getDay()];\n  if (!scheduledToday || !workoutLetter) {\n    return (\n      <section className=\"py-8 space-y-4\">\n        <h2 className=\"text-xl font-semibold\">Rest Day</h2>\n        <p className=\"text-neutral-400 text-sm\">Today ({todayName}) is not one of your scheduled training days. Recovery is part of the plan. ✌️</p>\n      </section>\n    );\n  }\n\n  const plan = (workouts && workouts[workoutLetter]) || [];\n  return (\n    <section className=\"py-6 space-y-5\">\n      <div className=\"flex items-end justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold\">Today's Workout</h2>\n          <p className=\"text-sm text-neutral-400\">Workout {workoutLetter} • Week {week}</p>\n        </div>\n        {isPhase2 && <span className=\"text-emerald-300 text-xs px-2 py-1 rounded bg-emerald-700/20 border border-emerald-700\">Phase 2 Active</span>}\n      </div>\n\n      <LiveWorkout state={state} setState={setState} workoutLetter={workoutLetter} exercises={plan} isPhase2={isPhase2} />\n    </section>\n  );\n}\n\nfunction LiveWorkout({ state, setState, exercises, workoutLetter, isPhase2 }) {\n  const makeEntries = (exs) => (Array.isArray(exs) ? exs.map((ex) => ({ exName: ex.name, sets: Array.from({ length: ex.sets || 0 }, () => ({ reps: \"\", weight: \"\" })) })) : []);\n  const [active, setActive] = useState(false);\n  const [entries, setEntries] = useState(() => makeEntries(exercises));\n  const [notes, setNotes] = useState(\"\");\n\n  useEffect(() => setEntries(makeEntries(exercises)), [exercises]);\n\n  const start = () => setActive(true);\n\n  const complete = () => {\n    const date = todayISO();\n    const week = getWeekNumber(state.user.startDate, date);\n    const session = { id: uid(), date, workout: workoutLetter, week, entries, notes, completed: true, phase2: isPhase2 };\n\n    const bench = entries.find((e) => e.exName === \"Dumbbell Bench Press\");\n    let alertMsg = null;\n    if (bench) {\n      const lastSet = bench.sets[bench.sets.length - 1] || {};\n      const lastReps = parseInt(lastSet.reps || \"0\", 10);\n      if (!Number.isNaN(lastReps) && lastReps >= 12) alertMsg = \"Progress Alert! You've mastered your current weight for 12 reps. Try increasing next session.\";\n    }\n\n    setState((s) => ({ ...s, sessions: Array.isArray(s.sessions) ? [...s.sessions, session] : [session] }));\n    if (alertMsg) setTimeout(() => alert(alertMsg), 50);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {!active ? (\n        <button onClick={start} className=\"w-full py-3 rounded-xl bg-white text-black text-sm font-medium\">Start Workout</button>\n      ) : (\n        <p className=\"text-sm text-neutral-400\">Live Mode: log each set below. Rest timer starts when you save a set.</p>\n      )}\n\n      <div className=\"space-y-3\">\n        {Array.isArray(exercises) && exercises.map((ex, i) => (\n          <ExerciseCard key={ex.name + \"_\" + i} ex={ex} isPhase2={isPhase2} entry={entries[i]} setEntry={(newEntry) => setEntries((arr) => arr.map((e, idx) => (idx === i ? newEntry : e)))} />\n        ))}\n      </div>\n\n      {active && (\n        <div className=\"space-y-3 pt-2\">\n          <label className=\"block\">\n            <span className=\"text-sm text-neutral-300\">Notes</span>\n            <textarea value={notes} onChange={(e) => setNotes(e.target.value)} className=\"mt-1 w-full h-20 p-3 rounded-xl bg-neutral-900 border border-neutral-800\" placeholder=\"How did it feel?\" />\n          </label>\n          <button onClick={complete} className=\"w-full py-3 rounded-xl bg-emerald-600 text-white text-sm font-medium\">Mark Workout Complete</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction ExerciseCard({ ex, entry, setEntry, isPhase2 }) {\n  const [showInfo, setShowInfo] = useState(false);\n  const rest = typeof ex.rest === 'number' ? ex.rest : 0;\n  const sets = Array.isArray(entry?.sets) ? entry.sets : Array.from({ length: ex.sets || 0 }, () => ({ reps: \"\", weight: \"\" }));\n\n  return (\n    <div className=\"rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4\">\n      <div className=\"flex items-start justify-between gap-3\">\n        <div>\n          <h3 className=\"font-medium\">{ex.name}</h3>\n          <p className=\"text-xs text-neutral-400\">{EXERCISE_LIBRARY[ex.name]?.equipment || \"—\"} • Sets: {ex.sets} • Reps: {String(ex.reps)}</p>\n          <p className=\"text-xs text-neutral-500 mt-1\">Rest: {rest}s {isPhase2 && !MAIN_LIFTS.has(ex.name) && <span className=\"text-emerald-300\">(−15s in Phase 2)</span>}</p>\n        </div>\n        <button className=\"text-xs text-neutral-400 underline\" onClick={() => setShowInfo(true)}>cues</button>\n      </div>\n\n      <div className=\"mt-3 space-y-2\">\n        {sets.map((s, idx) => (\n          <SetRow key={idx} idx={idx} ex={ex} setData={s} onChange={(newSet) => {\n            if (typeof setEntry === 'function') {\n              const updated = { ...entry, sets: (entry?.sets || []).map((t, i) => (i === idx ? newSet : t)) };\n              setEntry(updated);\n            }\n          }} />\n        ))}\n      </div>\n\n      {showInfo && <ExerciseModal name={ex.name} onClose={() => setShowInfo(false)} isPhase2={isPhase2} />}\n    </div>\n  );\n}\n\nfunction SetRow({ idx, ex, setData, onChange }) {\n  const [reps, setReps] = useState(setData?.reps ?? \"\");\n  const [weight, setWeight] = useState(setData?.weight ?? \"\");\n  const [timerKey, setTimerKey] = useState(0);\n\n  useEffect(() => { setReps(setData?.reps ?? \"\"); setWeight(setData?.weight ?? \"\"); }, [setData?.reps, setData?.weight]);\n\n  const save = () => {\n    if (typeof onChange === 'function') onChange({ reps, weight });\n    if ((ex.rest ?? 0) > 0) setTimerKey((k) => k + 1);\n  };\n\n  return (\n    <div className=\"rounded-xl bg-neutral-950/50 border border-neutral-800 p-3 flex items-center gap-3\">\n      <span className=\"text-xs text-neutral-400 w-10\">Set {idx + 1}</span>\n      <input type=\"text\" inputMode=\"numeric\" value={reps} onChange={(e) => setReps(e.target.value)} placeholder={typeof ex.reps === 'number' ? String(ex.reps) : String(ex.reps)} className=\"flex-1 text-sm bg-neutral-950 border border-neutral-800 rounded px-2 py-2\" />\n      <input type=\"text\" value={weight} onChange={(e) => setWeight(e.target.value)} placeholder=\"weight used\" className=\"w-32 text-sm bg-neutral-950 border border-neutral-800 rounded px-2 py-2 text-right\" />\n      <button onClick={save} className=\"px-3 py-2 rounded-lg bg-white text-black text-xs font-medium\">Save</button>\n      {ex.rest > 0 && <div className=\"ml-auto w-28\"><RestTimer key={timerKey} seconds={ex.rest} /></div>}\n    </div>\n  );\n}\n\nfunction RestTimer({ seconds }) {\n  const [s, setS] = useState(Math.max(0, Math.floor(Number(seconds) || 0)));\n  const intervalRef = useRef(null);\n\n  useEffect(() => {\n    setS(Math.max(0, Math.floor(Number(seconds) || 0)));\n    if (intervalRef.current) clearInterval(intervalRef.current);\n    intervalRef.current = setInterval(() => setS((x) => Math.max(0, x - 1)), 1000);\n    return () => clearInterval(intervalRef.current);\n  }, [seconds]);\n\n  useEffect(() => {\n    if (s === 0) {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n      try { new Audio(\"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBIAAABAAEAQBQAAAwAABAAgAZGF0YQAAAAA=\").play(); } catch (e) {}\n      if (typeof window !== 'undefined' && window.navigator && window.navigator.vibrate) window.navigator.vibrate(120);\n    }\n  }, [s]);\n\n  const mm = String(Math.floor(s / 60)).padStart(2, '0');\n  const ss = String(s % 60).padStart(2, '0');\n  return <div className={`text-xs px-2 py-1 rounded-lg border text-center ${s === 0 ? 'border-emerald-700 text-emerald-300' : 'border-neutral-700 text-neutral-300'}`}>{mm}:{ss}</div>;\n}\n\nfunction ExerciseModal({ name, onClose, isPhase2 }) {\n  const ex = EXERCISE_LIBRARY[name];\n  if (!ex) return null;\n  const cueExtra = isPhase2 && name === \"Plank Series\" ? \" • Phase 2: try lifting one foot off the ground.\" : \"\";\n  return (\n    <div className=\"fixed inset-0 z-20 bg-black/70 flex items-end sm:items-center justify-center p-3\" onClick={onClose}>\n      <div className=\"w-full sm:max-w-lg bg-neutral-950 border border-neutral-800 rounded-2xl p-4 space-y-3\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"flex items-center justify-between\">\n          <h4 className=\"font-semibold\">{name}</h4>\n          <button onClick={onClose} className=\"text-neutral-400 text-sm\">Close</button>\n        </div>\n        <p className=\"text-xs text-neutral-400\">Equipment: {ex.equipment}</p>\n        <p className=\"text-sm text-neutral-300\">{ex.cues}{cueExtra}</p>\n        {ex.video && (\n          <div className=\"aspect-video rounded-xl overflow-hidden border border-neutral-800\">\n            <iframe className=\"w-full h-full\" src={ex.video} title={name} allow=\"autoplay; encrypted-media\" allowFullScreen />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction ExerciseLibrary() {\n  const items = Object.entries(EXERCISE_LIBRARY);\n  return (\n    <section className=\"py-6\">\n      <h2 className=\"text-xl font-semibold mb-3\">Exercise Library</h2>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n        {items.map(([name, ex]) => <ExercisePreview key={name} name={name} ex={ex} />)}\n      </div>\n    </section>\n  );\n}\n\nfunction ExercisePreview({ name, ex }) {\n  const [open, setOpen] = useState(false);\n  return (\n    <div className=\"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h3 className=\"font-medium\">{name}</h3>\n          <p className=\"text-xs text-neutral-400\">{ex.equipment}</p>\n        </div>\n        <button className=\"text-xs text-neutral-300 underline\" onClick={() => setOpen(true)}>Open</button>\n      </div>\n      {open && <ExerciseModal name={name} onClose={() => setOpen(false)} isPhase2={false} />}\n    </div>\n  );\n}\n\nfunction Progress({ state, setState }) {\n  const [modalDate, setModalDate] = useState(null);\n  const sessionsMap = useMemo(() => {\n    const map = new Map();\n    (Array.isArray(state.sessions) ? state.sessions : []).forEach((s) => map.set(s.date, s));\n    return map;\n  }, [state.sessions]);\n\n  const completed = (Array.isArray(state.sessions) ? state.sessions : []).filter((s) => s.completed);\n\n  const volume = {};\n  for (const s of completed) {\n    for (const e of s.entries || []) {\n      let total = 0;\n      for (const st of e.sets || []) {\n        const reps = parseInt(st.reps, 10);\n        const w = parseFloat(String(st.weight).replace(/[^0-9.]/g, ''));\n        if (!Number.isNaN(reps) && !Number.isNaN(w)) total += reps * w;\n      }\n      volume[e.exName] = (volume[e.exName] || 0) + total;\n    }\n  }\n\n  const keyLifts = [\"Dumbbell Bench Press\", \"Goblet Squats\"];\n  const maxVolume = Math.max(...keyLifts.map((n) => volume[n] || 0), 1);\n  const prHighlights = computePRs(completed);\n  const amrapHistory = computeAMRAP(completed);\n\n  return (\n    <section className=\"py-6 space-y-6\">\n      <h2 className=\"text-xl font-semibold\">Progress</h2>\n\n      <div>\n        <Calendar startDate={state.user.startDate} sessions={sessionsMap} onEditDay={(iso) => setModalDate(iso)} />\n      </div>\n\n      <div className=\"space-y-3\">\n        <h3 className=\"font-medium\">Volume Load</h3>\n        <div className=\"grid grid-cols-1 gap-3\">\n          {keyLifts.map((name) => <MiniBar key={name} label={name} value={Math.round(volume[name] || 0)} max={maxVolume} />)}\n        </div>\n      </div>\n\n      <div className=\"space-y-3\">\n        <h3 className=\"font-medium\">AMRAP Finisher (Workout C)</h3>\n        <div className=\"space-y-2\">\n          {amrapHistory.length === 0 ? <p className=\"text-sm text-neutral-400\">No AMRAP results yet.</p> : amrapHistory.map((r) => (\n            <div key={r.date} className=\"flex items-center justify-between text-sm bg-neutral-900 border border-neutral-800 rounded-xl p-3\">\n              <span className=\"text-neutral-300\">{r.date} • {r.label}</span>\n              <span className=\"font-medium\">{r.rounds} rds {r.reps} reps</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"space-y-2\">\n        <h3 className=\"font-medium\">Personal Records</h3>\n        {prHighlights.length === 0 ? <p className=\"text-sm text-neutral-400\">Log more sessions to unlock PRs.</p> : (\n          <ul className=\"text-sm space-y-1\">{prHighlights.map((p) => <li key={p.id} className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-3\"><span className=\"font-medium\">{p.exercise}</span>: {p.reps} reps @ {p.weight}</li>)}</ul>\n        )}\n      </div>\n\n      {modalDate && <HistoricalSessionModal isoDate={modalDate} existing={sessionsMap.get(modalDate)} startDate={state.user.startDate} onClose={() => setModalDate(null)} onSave={(session) => {\n        setState((s) => {\n          const others = (s.sessions || []).filter((x) => x.date !== session.date);\n          return { ...s, sessions: [...others, session] };\n        });\n        setModalDate(null);\n      }} />}\n    </section>\n  );\n}\n\nfunction Calendar({ startDate, sessions, onEditDay }) {\n  const end = new Date();\n  const start = new Date(end);\n  start.setDate(end.getDate() - 55);\n  const days = [];\n  for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {\n    const iso = d.toISOString().slice(0, 10);\n    const s = sessions.get(iso);\n    days.push({ iso, done: !!s, letter: s?.workout });\n  }\n\n  return (\n    <div>\n      <h3 className=\"font-medium mb-2\">Workout Calendar</h3>\n      <div className=\"grid grid-cols-8 gap-1\">\n        {days.map((d) => (\n          <button key={d.iso} title={`${d.iso}${d.done ? ` • Workout ${d.letter}` : ''}`} onClick={() => typeof onEditDay === 'function' && onEditDay(d.iso)} className={`aspect-square rounded ${d.done ? 'bg-emerald-600' : 'bg-neutral-800'}`} />\n        ))}\n      </div>\n      <p className=\"text-[11px] text-neutral-500 mt-1\">Past 8 weeks — tap a day to add or edit a session</p>\n    </div>\n  );\n}\n\nfunction HistoricalSessionModal({ isoDate, existing, startDate, onClose, onSave }) {\n  const initialLetter = existing?.workout || 'A';\n  const [letter, setLetter] = useState(initialLetter);\n  const [completed, setCompleted] = useState(typeof existing?.completed === 'boolean' ? existing.completed : true);\n  const phase2AtDate = getWeekNumber(startDate, isoDate) >= 5;\n  const plan = phase2AtDate ? phase2Workouts() : PHASE1;\n\n  const makeDefaultEntries = (ltr) => (plan[ltr] || []).map((ex) => ({ exName: ex.name, sets: Array.from({ length: ex.sets || 0 }, () => ({ reps: \"\", weight: \"\" })) }));\n\n  const [entries, setEntries] = useState(existing?.entries || makeDefaultEntries(letter));\n  const [notes, setNotes] = useState(existing?.notes || \"\");\n\n  useEffect(() => {\n    if (!existing) setEntries(makeDefaultEntries(letter));\n  }, [letter]);\n\n  const save = () => {\n    const week = getWeekNumber(startDate, isoDate);\n    const session = { id: existing?.id || uid(), date: isoDate, workout: letter, week, entries, notes, completed, phase2: phase2AtDate };\n    if (typeof onSave === 'function') onSave(session);\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-30 bg-black/70 flex items-end sm:items-center justify-center p-3\" onClick={onClose}>\n      <div className=\"w-full sm:max-w-2xl bg-neutral-950 border border-neutral-800 rounded-2xl p-4 space-y-3\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"flex items-center justify-between\">\n          <h4 className=\"font-semibold\">{isoDate} • Add / Edit Session</h4>\n          <button onClick={onClose} className=\"text-neutral-400 text-sm\">Close</button>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <label className=\"flex-1\">\n            <div className=\"text-xs text-neutral-300\">Workout</div>\n            <select value={letter} onChange={(e) => setLetter(e.target.value)} className=\"mt-1 w-full p-2 rounded bg-neutral-900 border border-neutral-800\">\n              <option value=\"A\">A</option>\n              <option value=\"B\">B</option>\n              <option value=\"C\">C</option>\n            </select>\n          </label>\n          <label className=\"w-36\">\n            <div className=\"text-xs text-neutral-300\">Completed</div>\n            <select value={String(completed)} onChange={(e) => setCompleted(e.target.value === 'true')} className=\"mt-1 w-full p-2 rounded bg-neutral-900 border border-neutral-800\">\n              <option value=\"true\">Yes</option>\n              <option value=\"false\">No</option>\n            </select>\n          </label>\n        </div>\n\n        <div className=\"space-y-2\">\n          <h5 className=\"font-medium\">Entries</h5>\n          <div className=\"space-y-2 max-h-64 overflow-auto\">\n            {entries.map((en, i) => (\n              <div key={en.exName + \"_\" + i} className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-3\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <div className=\"font-medium\">{en.exName}</div>\n                    <div className=\"text-xs text-neutral-400\">Sets: {en.sets.length}</div>\n                  </div>\n                </div>\n                <div className=\"mt-2 space-y-2\">\n                  {en.sets.map((s, idx) => (\n                    <div key={idx} className=\"flex gap-2\">\n                      <input value={s.reps} onChange={(e) => { const next = entries.map((x, ii) => ii === i ? { ...x, sets: x.sets.map((ss, jj) => jj === idx ? { ...ss, reps: e.target.value } : ss) } : x); setEntries(next); }} placeholder=\"reps\" className=\"flex-1 p-2 rounded bg-neutral-950 border border-neutral-800\" />\n                      <input value={s.weight} onChange={(e) => { const next = entries.map((x, ii) => ii === i ? { ...x, sets: x.sets.map((ss, jj) => jj === idx ? { ...ss, weight: e.target.value } : ss) } : x); setEntries(next); }} placeholder=\"weight\" className=\"w-28 p-2 rounded bg-neutral-950 border border-neutral-800 text-right\" />\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <label>\n          <div className=\"text-xs text-neutral-300\">Notes</div>\n          <textarea value={notes} onChange={(e) => setNotes(e.target.value)} className=\"mt-1 w-full p-2 h-20 rounded bg-neutral-900 border border-neutral-800\" />\n        </label>\n\n        <div className=\"flex gap-2\">\n          <button onClick={save} className=\"flex-1 py-2 rounded-xl bg-emerald-600 text-white\">Save Session</button>\n          <button onClick={onClose} className=\"flex-1 py-2 rounded-xl bg-neutral-800 text-neutral-300\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction MiniBar({ label, value, max = 1 }) {\n  const pct = max > 0 ? Math.round((value / max) * 100) : 0;\n  return (\n    <div className=\"bg-neutral-900 border border-neutral-800 rounded-xl p-3\">\n      <div className=\"flex items-center justify-between text-sm mb-2\">\n        <span className=\"text-neutral-300\">{label}</span>\n        <span className=\"font-medium\">{value} kg·reps</span>\n      </div>\n      <div className=\"h-2 bg-neutral-800 rounded\">\n        <div className=\"h-2 rounded bg-white\" style={{ width: `${pct}%` }} />\n      </div>\n    </div>\n  );\n}\n\nfunction computePRs(sessions) {\n  const best = new Map();\n  for (const s of sessions || []) {\n    for (const e of s.entries || []) {\n      for (const st of e.sets || []) {\n        const reps = parseInt(st.reps, 10);\n        const numericWeight = parseFloat(String(st.weight).replace(/[^0-9.]/g, ''));\n        if (!Number.isNaN(reps) && !Number.isNaN(numericWeight)) {\n          const k = e.exName;\n          const prev = best.get(k);\n          const score = numericWeight * reps;\n          const prevScore = prev ? prev.numericWeight * prev.reps : -1;\n          if (score > prevScore) best.set(k, { reps, weight: st.weight, numericWeight });\n        }\n      }\n    }\n  }\n  return Array.from(best.entries()).map(([exercise, v]) => ({ id: exercise, exercise, reps: v.reps, weight: v.weight }));\n}\n\nfunction computeAMRAP(sessions) {\n  const result = [];\n  for (const s of sessions || []) {\n    const fin = (s.entries || []).find((e) => typeof e.exName === 'string' && e.exName.includes(\"AMRAP\"));\n    if (fin) {\n      const set0 = fin.sets && fin.sets[0] ? fin.sets[0] : {};\n      const rounds = parseInt(set0.reps, 10);\n      const reps = parseInt(set0.weight, 10) || 0;\n      if (!Number.isNaN(rounds)) result.push({ date: s.date, rounds, reps, label: fin.exName });\n    }\n  }\n  result.sort((a, b) => (a.date < b.date ? 1 : -1));\n  return result;\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}